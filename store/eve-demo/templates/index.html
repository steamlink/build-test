<html>
  <head>
    <title>steamlink</title>
    <script
       src="https://code.jquery.com/jquery-3.1.1.min.js"
       integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
       crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.8/vue.js"></script>
    <script type="text/javascript" src="/static/app.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/bulma.css">
  </head>
  <body>

    <section class="hero">
      <div class="hero-body">
        <div class="container">
          <h1 class="title">
            steamlink dashboard
          </h1>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container" id="app_transforms">
        <div class="columns">
          <div class="column">

            <h2 class="subtitle">Meshes</h2>
            <table class="mesh_list table">
              <thead>
                <th>Mesh Name</th>
                <th>Radio Type</th>
                <th>Radio Parameters</th>
                <th>Location</th>
              </thead>
            </table>
            <a class="button is-dark" href="/add-mesh">Add new mesh</a>

            <h2 class="subtitle">Swarms</h2>
            <table class="swarm_list table"></table>
            <a class="button is-dark" href="/add-swarm">Add new swarm</a>

            <h2 class="subtitle">Nodes</h2>
            <table class="swarm_list table"></table>
            <a class="button is-dark" href="/add-nodes">Add new node</a>

            <h2 class="subtitle">Transforms</h2>
            <table class="transforms_list table">
              <thead>
                <th>Transform name</th>
                <th>Filter</th>
                <th>Selector</th>
                <th>Publisher</th>
                <th>Active</th>
              </thead>
              <tr v-for="(item,index) in transforms">
                <td>
                  {% raw %}
                  {{ item.transform_name }}
                  {% endraw %}
                </td>
                <td>
                  {% raw %}
                  {{ item.filter.filter_name }}
                  {% endraw %}
                </td>
                <td>
                  {% raw %}
                  {{ item.selector.selector_name }}
                  {% endraw %}
                </td>
                <td>
                  {% raw %}
                  {{ item.publisher.publisher_name }}
                  {% endraw %}
                </td>

                <td>
                  <button class="button is-small" type="button" v-on:click="activateTransform">
                    {% raw %}
                    {{ item.active }}
                    {% endraw %}
                  </button>
                </td>
              </tr>
            </table>
            <a class="button is-dark" href="/add-transform">Add new transform</a>

          </div>
        </div>
      </div>
    </section>

</html>
